{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "name": {
      "description": "Name of your workflow. Symphony will display the name when running the workflow.",
      "type": "string"
    },
    "url": {
      "description": "Target website URL where this workflow will be executed. This determines the starting page for all automation steps in the flow.",
      "type": "string",
      "format": "uri"
    },
    "colorMode": {
      "description": "Preferred color scheme for the target website during workflow execution. Set to 'light' or 'dark' to ensure consistent UI appearance across different systems. Defaults to 'light' if not specified.",
      "enumDescriptions": [
        "Light mode",
        "Dark mode"
      ],
      "default": "light",
      "type": "string",
      "enum": [
        "light",
        "dark"
      ]
    },
    "flow": {
      "description": "Ordered sequence of browser automation steps (clicks, inputs, scrolling, keyboard actions, waits, etc.) that define the complete workflow execution path.",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "input": {
                "description": "Defines an input action where a value is entered into a specified input field identified by the `selector`, `label`, `testID`, `placeholder` or `role` .",
                "type": "object",
                "properties": {
                  "selector": {
                    "markdownDescription": "Selector to identify the input field. Supports multiple locator strategies.\n\n---\n\n**Label Locator** — `label:`  \nLocates input elements by the text of the associated `<label>` or `aria-labelledby` element, or by the `aria-label` attribute.\n\n**Usage:** `label:Username`, `label:Email Address`\n\n**Example DOM:**\n```html\n<input aria-label=\"Username\">\n<label for=\"email-input\">Email Address:</label>\n<input id=\"email-input\">\n```\n\n---\n\n**Test ID Locator** — `testID:`  \nLocates elements by their `data-testid` attribute. Recommended for reliable test automation.\n\n**Usage:** `testID:login-input`, `testID:search-field`\n\n**Example DOM:**\n```html\n<input data-testid=\"login-input\" type=\"text\">\n<input data-testid=\"search-field\" placeholder=\"Search...\">\n```\n\n---\n\n**Placeholder Locator** — `placeholder:`  \nLocates input elements by their `placeholder` attribute text.\n\n**Usage:** `placeholder:Enter your email`, `placeholder:Search...`\n\n**Example DOM:**\n```html\n<input placeholder=\"Enter your email\" type=\"email\">\n<input placeholder=\"Search...\" type=\"search\">\n```\n\n---\n\n**Role Locator** — `role:`  \nLocates elements by their ARIA role and optional accessible name.\n\n**Usage:** `role:textbox name=\"username\"`, `role:searchbox`\n\n**Example DOM:**\n```html\n<input role=\"textbox\" aria-label=\"username\">\n<input role=\"searchbox\" placeholder=\"Search products\">\n```\n\n---\n\n**CSS Selector** — Direct CSS selector  \nStandard CSS selector syntax for precise element targeting.\n\n**Usage:** `#username`, `.form-input`, `input[name=\"email\"]`\n\n**Example DOM:**\n```html\n<input id=\"username\" type=\"text\">\n<input class=\"form-input\" name=\"email\">\n```\n\n---\n\nSemantic locators (**label**, **testID**, **placeholder**, **role**) are recommended as they make tests more maintainable and align with accessibility best practices.",
                    "type": "string"
                  },
                  "value": {
                    "description": "Value to be entered into the input field.",
                    "type": "string"
                  }
                },
                "required": [
                  "selector",
                  "value"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "input"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "clickOn": {
                "description": "Defines a click action that can target elements either by CSS selector or by visible text content.",
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "selector": {
                        "markdownDescription": "CSS selector to identify the clickable element.\n\n**Usage**  \nStandard CSS selector syntax to target specific elements for clicking.\n\n**Examples**\n- `#submit-btn` — Click element with ID 'submit-btn'\n- `.nav-link` — Click element with class 'nav-link'\n- `button[type=\"submit\"]` — Click submit button\n- `a[href=\"/login\"]` — Click link with specific href\n- `[data-testid=\"confirm-button\"]` — Click element with test ID\n\n**Common Use Cases**\n```yaml\n- clickOn:\n    selector: \"#login-button\"  # Click login button by ID\n```\n\n```yaml\n- clickOn:\n    selector: \".modal-close\"   # Click modal close button\n```\n\n```yaml\n- clickOn:\n    selector: 'button[type=\"submit\"]'  # Click form submit button\n```",
                        "type": "string"
                      }
                    },
                    "required": [
                      "selector"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "markdownDescription": "Text content of the element to click.\n\n**Usage**  \nClicks on elements containing the specified visible text content.\n\n**Examples with HTML**\n- `\"Login\"` — Clicks elements like `<button>Login</button>` or `<a>Login</a>`\n- `\"Submit\"` — Clicks elements like `<input type=\"submit\" value=\"Submit\">` or `<button>Submit</button>`\n- `\"Add to Cart\"` — Clicks elements like `<button>Add to Cart</button>`\n- `\"Sign Up\"` — Clicks elements like `<a href=\"/signup\">Sign Up</a>`\n\n**Common Use Cases**\n```yaml\n- clickOn: \"Login\"        # Click any element containing \"Login\" text\n```\n\n```yaml\n- clickOn: \"Add to Cart\"  # Click button with \"Add to Cart\" text\n```\n\n```yaml\n- clickOn: \"Next\"         # Click element containing \"Next\" text\n```\n\n**Note:** If multiple elements contain the same text, only the first occurrence will be clicked. For precise targeting, use CSS selectors instead.",
                    "type": "string"
                  }
                ]
              }
            },
            "required": [
              "clickOn"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "waitFor": {
                "description": "Defines a wait action that pauses workflow execution for a specified duration in milliseconds.",
                "type": "object",
                "properties": {
                  "duration": {
                    "markdownDescription": "Duration in milliseconds to pause execution.\n\n\t\t\t\t**Usage**\n\t\t\t\tPauses the workflow execution for the specified time period. Useful for:\n\t\t\t\t- Waiting for animations to complete\n\t\t\t\t- Allowing page content to load\n\t\t\t\t- Adding delays between rapid actions\n\t\t\t\t- Ensuring UI stability before next step\n\n\t\t\t\t**Examples**\n\t\t\t\t- `1000` - Wait for 1 second\n\t\t\t\t- `500` - Wait for 0.5 seconds\n\t\t\t\t- `3000` - Wait for 3 seconds\n\t\t\t\t- `100` - Wait for 0.1 seconds\n\n\t\t\t\t**Common Use Cases**\n\t\t\t\t```yaml\n\t\t\t\t- waitFor:\n\t\t\t\t\tduration: 2000  # Wait 2 seconds for page to load\n\t\t\t\t```\n\n\t\t\t\t```yaml\n\t\t\t\t- waitFor:\n\t\t\t\t\tduration: 500   # Brief pause after form submission\n\t\t\t\t```\n\t\t\t\t",
                    "type": "number"
                  }
                },
                "required": [
                  "duration"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "waitFor"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "keyboard": {
                "type": "object",
                "properties": {
                  "key": {
                    "type": "string",
                    "pattern": "^([A-Za-z]+(\\+)?)+$"
                  }
                },
                "required": [
                  "key"
                ],
                "additionalProperties": false
              }
            },
            "required": [
              "keyboard"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "scroll": {
                "anyOf": [
                  {
                    "type": "object",
                    "properties": {
                      "direction": {
                        "type": "string",
                        "enum": [
                          "up",
                          "down"
                        ]
                      },
                      "speed": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "direction"
                    ],
                    "additionalProperties": false
                  },
                  {
                    "type": "object",
                    "properties": {
                      "position": {
                        "type": "object",
                        "properties": {
                          "x": {
                            "type": "number"
                          },
                          "y": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "x",
                          "y"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "required": [
                      "position"
                    ],
                    "additionalProperties": false
                  }
                ]
              }
            },
            "required": [
              "scroll"
            ],
            "additionalProperties": false
          }
        ]
      }
    }
  },
  "required": [
    "name",
    "url",
    "flow"
  ],
  "additionalProperties": false
}